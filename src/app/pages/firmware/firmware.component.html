<nb-card>
  
  <nb-card-header>
    Change the firmware for a given product below. Ensure that the version matches exactly the release version thats being rolled out - this will prompt the user to upgrade their firmware when they open the apps, or any other piece of software that uses this information
    You can also add a new product, or delete one. 
  </nb-card-header>

  <nb-card-body>
    <div *ngIf="itemsList | async as items">
      <ng2-smart-table [settings]="settings" [source]="items" (deleteConfirm)="onDeleteConfirm($event)" (editConfirm)="onEditConfirm($event)" (createConfirm)="onCreateConfirm($event)"></ng2-smart-table>
    </div>
  </nb-card-body>
</nb-card>

<!-- <div>Authenticated: {{ isAuthenticated$ | async }}</div>

<div *ngIf="isAuthenticated$ | async">
  Current User Token:
  <pre> {{ userToken$ | async | json }} </pre>
</div>

<button
  *ngIf="isAuthenticated$ | async"
  (click)="logout()">
  Logout
</button>

<button
  *ngIf="!(isAuthenticated$ | async)"
  (click)="login()">
  Login
</button>

<button (click)="resetPassword()">Reset password</button> -->

<!-- <button (click)="getData()">Get data from Firebase</button> -->

<!-- <ul>
  <li *ngFor="let item of items | async">
     {{ item | json }}
  </li>
</ul> -->

<!-- <h1>{{ itemsObjects | async | json }}</h1>
<input type="text" #newname placeholder="Name" />
<input type="text" #newsize placeholder="Size" />
<br /> -->


<!-- <button (click)="save(newname.value)">Set Name</button>
<button (click)="update(newsize.value)">Update Size</button>
<button (click)="delete()">Delete</button> -->

<ul>
  <li *ngFor="let item of itemsList | async;">
    <input type="text" #updatetext [value]="item.product" />
    <input type="text" #updatetext [value]="item.firmware" />

    <div *ngFor="let version of item.value">

      <!-- <div>{{version.latest}}</div> -->
      <input type="text" #updatetext [value]="version.latest" />

  </div>

    <button (click)="updateItem(item.key, updatetext.value)">Update</button>
  </li>
</ul>
<input type="text" #newitem />
<button (click)="addItem(newitem.value)">Add</button>